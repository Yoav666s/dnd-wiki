---
layout: single
---
{% assign levels = site.data.navigation.spells %}

<div class="page__content">
  {{ content }}
  {% for level in levels %}
    {% assign level_spells = site.spells | where: "level", level.title | sort_natural %}
    {% assign spell_found = false %}

    {% for spell in level_spells %}
      {% if spell.available_for contains page.class or spell.available_for contains page.subclass or page.additional_spells contains spell.title %}
        {% assign spell_found = true %}
        {% break %}
      {% endif %}
    {% endfor %}

    {% if spell_found %}
      <h1>{{ level.title }}</h1>
      <ul>
      {% for spell in level_spells %}
        {% if spell.available_for contains page.class or spell.available_for contains page.subclass or page.additional_spells contains spell.title %}
          <li>
            <a href="{{ spell.url | relative_url }}">{{ spell.title }}</a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
    {% endif %}
  {% endfor %}
</div>
